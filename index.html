<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="Description" content="Enter your description here">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <title>Fluent UI Icons - Catalog</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #6366f1;
            --primary-dark: #4f46e5;
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --border-color: #e2e8f0;
            --hover-bg: #f1f5f9;
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --compose-color: #22c55e;
            --svg-color: #f97316;
        }

        .dark {
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --border-color: #334155;
            --hover-bg: #334155;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-color);
            color: var(--text-primary);
            line-height: 1.6;
            transition: all 0.3s ease;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .header {
            background: var(--card-bg);
            border-bottom: 1px solid var(--border-color);
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow);
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 20px;
        }

        .logo {
            font-size: 28px;
            font-weight: 700;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo svg {
            width: 32px;
            height: 32px;
        }

        .search-container {
            flex: 1;
            max-width: 500px;
            position: relative;
        }

        .search-box {
            width: 100%;
            padding: 12px 20px 12px 45px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            font-size: 16px;
            background: var(--bg-color);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .search-box:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            width: 20px;
            height: 20px;
        }

        .header-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .theme-toggle, .refresh-btn {
            padding: 12px;
            border: none;
            background: var(--hover-bg);
            border-radius: 8px;
            cursor: pointer;
            color: var(--text-primary);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .theme-toggle:hover, .refresh-btn:hover {
            background: var(--border-color);
        }

        .theme-toggle svg {
            width: 20px;
            height: 20px;
        }

        .refresh-btn.loading {
            opacity: 0.7;
            pointer-events: none;
        }

        .refresh-btn.loading svg {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        .main {
            padding: 30px 0;
        }

        .filters {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-btn {
            padding: 8px 16px;
            border: 2px solid var(--border-color);
            background: var(--card-bg);
            color: var(--text-secondary);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            font-weight: 500;
            position: relative;
        }

        .filter-btn:hover,
        .filter-btn.active {
            border-color: var(--primary-color);
            background: var(--primary-color);
            color: white;
        }

        .filter-btn .badge {
            background: var(--text-secondary);
            color: white;
            font-size: 11px;
            padding: 2px 6px;
            border-radius: 10px;
            margin-left: 5px;
        }

        .filter-btn.active .badge {
            background: rgba(255, 255, 255, 0.3);
        }

        .stats {
            color: var(--text-secondary);
            font-size: 14px;
            margin-left: auto;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 5px;
        }

        .loading-indicator {
            display: none;
            color: var(--warning-color);
            font-size: 14px;
            font-weight: 500;
        }

        .loading-indicator.show {
            display: block;
        }

        .icon-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .icon-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .icon-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary-color);
        }

        .copy-buttons {
            display: flex;
            gap: 8px;
            justify-content: center;
            margin-top: 15px;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
        }

        .icon-card:hover .copy-buttons {
            opacity: 1;
            transform: translateY(0);
        }

        .copy-btn {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            background: var(--card-bg);
            color: var(--text-primary);
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
            z-index: 2;
        }

        .copy-btn:hover {
            transform: scale(1.05);
        }

        .copy-btn svg {
            width: 14px;
            height: 14px;
        }

        .copy-btn.svg-btn:hover {
            background: var(--svg-color);
            border-color: var(--svg-color);
            color: white;
        }

        .copy-btn.compose-btn:hover {
            background: var(--compose-color);
            border-color: var(--compose-color);
            color: white;
        }

        .icon-display {
            width: 72px;
            height: 72px;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 12px;
            border-radius: 12px;
            background: var(--hover-bg);
            transition: all 0.3s ease;
        }

        .icon-card:hover .icon-display {
            background: var(--primary-color);
            transform: scale(1.1);
        }

        .icon-card:hover .icon-display svg {
            color: white;
        }

        .icon-display svg {
            width: 100%;
            height: 100%;
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .icon-name {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--text-primary);
            font-size: 14px;
        }

        .icon-category {
            font-size: 12px;
            color: var(--text-secondary);
            background: var(--hover-bg);
            padding: 4px 8px;
            border-radius: 4px;
            display: inline-block;
        }

        .copy-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--success-color);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        .icon-card.copied .copy-indicator {
            opacity: 1;
            transform: translateY(0);
        }

        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-secondary);
        }

        .no-results svg {
            width: 64px;
            height: 64px;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .error-message {
            background: #fee2e2;
            color: #dc2626;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid #fecaca;
        }

        .footer {
            background: var(--card-bg);
            border-top: 1px solid var(--border-color);
            padding: 30px 0;
            text-align: center;
            color: var(--text-secondary);
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                align-items: stretch;
            }

            .search-container {
                max-width: none;
            }

            .icon-grid {
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
                gap: 15px;
            }

            .filters {
                justify-content: center;
            }

            .stats {
                margin-left: 0;
                text-align: center;
                width: 100%;
                align-items: center;
            }

            .copy-buttons {
                flex-direction: column;
                gap: 6px;
            }

            .copy-btn {
                font-size: 11px;
                padding: 6px 10px;
            }
        }
    </style>
</head>
<body>
<header class="header">
    <div class="container">
        <div class="header-content">
            <div class="logo">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M11.9146 2.0817C12.1257 1.97613 12.3743 1.97613 12.5854 2.0817L18.5854 5.0817C18.8395 5.20875 19 5.46845 19 5.75253C19 6.0366 18.8395 6.2963 18.5854 6.42335L13.9271 8.75253L18.5854 11.0817C18.8395 11.2087 19 11.4684 19 11.7525C19 12.0366 18.8395 12.2963 18.5854 12.4233L13 15.2161V21.25C13 21.523 12.8517 21.7744 12.6128 21.9064C12.3739 22.0385 12.0821 22.0303 11.851 21.8851L5.85102 18.1155C5.63258 17.9783 5.5 17.7384 5.5 17.4805V5.75253C5.5 5.46845 5.6605 5.20875 5.91459 5.0817L11.9146 2.0817ZM7 6.21605V17.0659L11.5 19.8931V14.7525C11.5 14.4684 11.6605 14.2087 11.9146 14.0817L16.5729 11.7525L11.9146 9.42335C11.6605 9.2963 11.5 9.0366 11.5 8.75253C11.5 8.46845 11.6605 8.20875 11.9146 8.08171L16.5729 5.75253L12.25 3.59105L7 6.21605Z" fill="#212121"/>
                </svg>

                Fluent UI Icons
            </div>

            <div class="search-container">
                <svg class="search-icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                </svg>
                <input type="text" class="search-box" placeholder="Search icons..." id="searchInput">
            </div>

            <div class="header-controls">
                <button class="refresh-btn" id="refreshBtn" title="Refresh icons data">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M17.65 6.35A7.95 7.95 0 0 0 12 4a8 8 0 0 0-8 8 8 8 0 0 0 8 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18a6 6 0 0 1-6-6 6 6 0 0 1 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
                    </svg>
                    <span class="refresh-text">Refresh</span>
                </button>

                <button class="theme-toggle" id="themeToggle" title="Toggle theme">
                    <!-- Light mode icon (sun) -->
                    <svg class="light-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 3.25C12.4142 3.25 12.75 3.58579 12.75 4V6C12.75 6.41421 12.4142 6.75 12 6.75C11.5858 6.75 11.25 6.41421 11.25 6V4C11.25 3.58579 11.5858 3.25 12 3.25ZM16.5 7.5C16.8107 7.18934 17.3893 7.18934 17.7 7.5L19.5 9.3C19.8107 9.61066 19.8107 10.1893 19.5 10.5C19.1893 10.8107 18.6107 10.8107 18.3 10.5L16.5 8.7C16.1893 8.38934 16.1893 7.81066 16.5 7.5ZM7.5 7.5C7.81066 7.81066 7.81066 8.38934 7.5 8.7L5.7 10.5C5.38934 10.8107 4.81066 10.8107 4.5 10.5C4.18934 10.1893 4.18934 9.61066 4.5 9.3L6.3 7.5C6.61066 7.18934 7.18934 7.18934 7.5 7.5ZM12 8.25C9.92893 8.25 8.25 9.92893 8.25 12C8.25 14.0711 9.92893 15.75 12 15.75C14.0711 15.75 15.75 14.0711 15.75 12C15.75 9.92893 14.0711 8.25 12 8.25ZM3.25 12C3.25 11.5858 3.58579 11.25 4 11.25H6C6.41421 11.25 6.75 11.5858 6.75 12C6.75 12.4142 6.41421 12.75 6 12.75H4C3.58579 12.75 3.25 12.4142 3.25 12ZM18 11.25C18.4142 11.25 18.75 11.5858 18.75 12C18.75 12.4142 18.4142 12.75 18 12.75H20C20.4142 12.75 20.75 12.4142 20.75 12C20.75 11.5858 20.4142 11.25 20 11.25H18ZM6.3 16.5C6.61066 16.1893 7.18934 16.1893 7.5 16.5C7.81066 16.8107 7.81066 17.3893 7.5 17.7L5.7 19.5C5.38934 19.8107 4.81066 19.8107 4.5 19.5C4.18934 19.1893 4.18934 18.6107 4.5 18.3L6.3 16.5ZM16.5 16.5L18.3 18.3C18.6107 18.6107 18.6107 19.1893 18.3 19.5C18.0107 19.8107 17.3893 19.8107 17.7 19.5L16.5 17.7C16.1893 17.3893 16.1893 16.8107 16.5 16.5C16.8107 16.1893 17.3893 16.1893 17.7 16.5ZM12 17.25C12.4142 17.25 12.75 17.5858 12.75 18V20C12.75 20.4142 12.4142 20.75 12 20.75C11.5858 20.75 11.25 20.4142 11.25 20V18C11.25 17.5858 11.5858 17.25 12 17.25Z"/>
                    </svg>
                    
                    <!-- Dark mode icon (moon) -->
                    <svg class="dark-icon" viewBox="0 0 24 24" fill="currentColor" style="display: none;">
                        <path d="M12 3C6.48 3 2 7.48 2 13C2 18.52 6.48 23 12 23C17.52 23 22 18.52 22 13C22 7.48 17.52 3 12 3ZM13.2 20.3C12.8 20.4 12.4 20.5 12 20.5C8.4 20.5 5.5 17.6 5.5 14C5.5 10.4 8.4 7.5 12 7.5C12.4 7.5 12.8 7.6 13.2 7.7C10.9 9.1 9.5 11.8 9.5 14.8C9.5 17.8 10.9 20.5 13.2 20.3Z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>
</header>

<main class="main">
    <div class="container">
        <div id="errorContainer"></div>

        <div class="filters" id="filtersContainer">
            <!-- Filter buttons will be generated dynamically -->
            <div class="stats" id="iconStatsContainer">
                <div class="loading-indicator show">Loading icons...</div>
                <div class="stats-text" style="display: none;">Showing 0 icons</div>
            </div>
        </div>

        <div class="icon-grid" id="iconGrid">
            <!-- Icons will be populated by JavaScript -->
        </div>

        <div class="no-results" id="noResults" style="display: none;">
            <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
            </svg>
            <h3>No icons found</h3>
            <p>Try adjusting your search or filter criteria</p>
        </div>
    </div>
</main>

<footer class="footer">
    <div class="container">
        <p>🎨 FluentUI System Icons Gallery • Built for GitHub Pages • Click any icon to copy its SVG code or Jetpack Compose reference</p>
        <p style="font-size: 12px; margin-top: 10px; opacity: 0.7;">
            ⚡ Microsoft FluentUI System Icons • Dynamic categories •
            <a href="https://github.com/microsoft/fluentui-system-icons" target="_blank"
               style="color: var(--primary-color);">Original Repository</a>
        </p>
        <p style="font-size: 12px; margin-top: 5px; opacity: 0.7;">
            🔄 Auto-detects new categories and icons • Run generate-icons.js to update
        </p>
    </div>
</footer>

<!-- Load the icons data -->
<script src="fluentui-icons-data.js"></script>

<script>
    // Global variables
    let allIcons = [];
    let filteredIcons = [];
    let currentCategory = 'all';
    let allCategories = [];

    // DOM elements
    const iconGrid = document.getElementById('iconGrid');
    const searchInput = document.getElementById('searchInput');
    const iconStatsContainer = document.getElementById('iconStatsContainer');
    const noResults = document.getElementById('noResults');
    const themeToggle = document.getElementById('themeToggle');
    const refreshBtn = document.getElementById('refreshBtn');
    const filtersContainer = document.getElementById('filtersContainer');
    const errorContainer = document.getElementById('errorContainer');
    const loadingIndicator = iconStatsContainer.querySelector('.loading-indicator');
    const statsText = iconStatsContainer.querySelector('.stats-text');

    // Initialize the app
    function init() {
        try {
            // Check if icons data is loaded
            if (typeof icons === 'undefined') {
                showError('Icons data not loaded. Make sure fluentui-icons-data.js is accessible.');
                return;
            }

            allIcons = icons || [];
            if (allIcons.length === 0) {
                showError('No icons found in the data file. Run generate-icons.js to create the data.');
                return;
            }

            // Extract categories dynamically
            allCategories = [...new Set(allIcons.map(icon => icon.category))].sort();

            console.log(`Loaded ${allIcons.length} icons across ${allCategories.length} categories:`, allCategories);

            createFilterButtons();
            filteredIcons = [...allIcons];
            renderIcons();
            setupEventListeners();
            hideLoading();

            // Check for saved theme
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark' || (!savedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.body.classList.add('dark');
                updateThemeIcon();
            }
        } catch (error) {
            console.error('Initialization error:', error);
            showError(`Failed to initialize: ${error.message}`);
        }
    }

    // Show error message
    function showError(message) {
        errorContainer.innerHTML = `
                <div class="error-message">
                    <strong>Error:</strong> ${message}
                </div>
            `;
        hideLoading();
    }

    // Hide loading indicator
    function hideLoading() {
        loadingIndicator.classList.remove('show');
        statsText.style.display = 'block';
    }

    // Update theme toggle icon
    function updateThemeIcon() {
        const lightIcon = themeToggle.querySelector('.light-icon');
        const darkIcon = themeToggle.querySelector('.dark-icon');
        const isDark = document.body.classList.contains('dark');
        
        if (isDark) {
            lightIcon.style.display = 'none';
            darkIcon.style.display = 'block';
        } else {
            lightIcon.style.display = 'block';
            darkIcon.style.display = 'none';
        }
    }

    // Create filter buttons dynamically
    function createFilterButtons() {
        // Clear existing filter buttons except stats
        const existingButtons = filtersContainer.querySelectorAll('.filter-btn');
        existingButtons.forEach(btn => btn.remove());

        // Count icons per category
        const categoryCounts = {};
        allIcons.forEach(icon => {
            categoryCounts[icon.category] = (categoryCounts[icon.category] || 0) + 1;
        });

        // Create "All Icons" button
        const allBtn = document.createElement('button');
        allBtn.className = 'filter-btn active';
        allBtn.dataset.category = 'all';
        allBtn.innerHTML = `All Icons <span class="badge">${allIcons.length}</span>`;
        filtersContainer.insertBefore(allBtn, iconStatsContainer);

        // Create category buttons
        allCategories.forEach(category => {
            const btn = document.createElement('button');
            btn.className = 'filter-btn';
            btn.dataset.category = category;

            // Better display names for categories
            const categoryDisplayNames = {
                'regular': 'Regular',
                'filled': 'Filled',
                'light': 'Light',
                'colored': 'Colored'
            };

            const displayName = categoryDisplayNames[category] ||
                category.charAt(0).toUpperCase() + category.slice(1).replace(/[-_]/g, ' ');

            const count = categoryCounts[category] || 0;
            btn.innerHTML = `${displayName} <span class="badge">${count}</span>`;
            filtersContainer.insertBefore(btn, iconStatsContainer);
        });

        // Attach event listeners to all filter buttons
        const filterBtns = document.querySelectorAll('.filter-btn');
        filterBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                filterBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentCategory = btn.dataset.category;
                filterIcons();
            });
        });
    }

    // Generate Jetpack Compose reference
    function generateJetpackComposeReference(icon) {
        // Convert icon name to PascalCase
        const pascalCaseName = icon.name
            .split('_')
            .map(word => word.charAt(0).toUpperCase() + word.slice(1))
            .join('');
        
        // Capitalize category
        const capitalizedCategory = icon.category.charAt(0).toUpperCase() + icon.category.slice(1);
        
        return `FluentUi.${capitalizedCategory}.${pascalCaseName}`;
    }

    // Render icons
    function renderIcons() {
        iconGrid.innerHTML = '';

        if (filteredIcons.length === 0) {
            noResults.style.display = 'block';
            statsText.textContent = 'No icons found';
            return;
        }

        noResults.style.display = 'none';
        statsText.textContent = `Showing ${filteredIcons.length} of ${allIcons.length} icons`;

        filteredIcons.forEach(icon => {
            const iconCard = document.createElement('div');
            iconCard.className = 'icon-card';

            // Use displayName if available, otherwise format the name
            const displayName = icon.displayName ||
                icon.name.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());

            iconCard.innerHTML = `
                    <div class="copy-indicator">Copied!</div>
                    <div class="icon-display">
                        ${icon.svg}
                    </div>
                    <div class="icon-name">${displayName}</div>
                    <div class="icon-category">${icon.category}</div>
                    <div class="copy-buttons">
                        <button class="copy-btn svg-btn" title="Copy SVG code">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M7.5 3.375c0-1.036.84-1.875 1.875-1.875h.375a3.75 3.75 0 013.75 3.75v1.875C13.5 7.36 12.66 8.2 11.625 8.2H9.375A1.875 1.875 0 017.5 6.325V3.375zM9.375 6.325h2.25a.375.375 0 00.375-.375V5.25a2.25 2.25 0 00-2.25-2.25H9.375a.375.375 0 00-.375.375v.7c0 .207.168.375.375.375zm-1.5 2.55A1.875 1.875 0 006 10.75v8.625C6 20.41 6.84 21.25 7.875 21.25h8.25c1.035 0 1.875-.84 1.875-1.875V10.75c0-1.036-.84-1.875-1.875-1.875H7.875zm1.875.375h6.75a.375.375 0 01.375.375v6.75a.375.375 0 01-.375.375H9.75a.375.375 0 01-.375-.375v-6.75a.375.375 0 01.375-.375z"/>
                            </svg>
                            SVG
                        </button>
                        <button class="copy-btn compose-btn" title="Copy Jetpack Compose reference">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M14.25 9.75L16.5 12l-2.25 2.25m-4.5 0L7.5 12l2.25-2.25M6 20.25h12A2.25 2.25 0 0020.25 18V6A2.25 2.25 0 0018 3.75H6A2.25 2.25 0 003.75 6v12A2.25 2.25 0 006 20.25z"/>
                            </svg>
                            Compose
                        </button>
                    </div>
                `;

            // Add event listeners for copy buttons
            const svgBtn = iconCard.querySelector('.svg-btn');
            const composeBtn = iconCard.querySelector('.compose-btn');

            svgBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                copyToClipboard(icon.svg, iconCard, 'SVG');
            });

            composeBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                const composeReference = generateJetpackComposeReference(icon);
                copyToClipboard(composeReference, iconCard, 'Jetpack Compose');
            });

            // Also allow clicking the card itself to copy SVG (for backward compatibility)
            iconCard.addEventListener('click', (e) => {
                if (!e.target.closest('.copy-btn')) {
                    copyToClipboard(icon.svg, iconCard, 'SVG');
                }
            });

            iconGrid.appendChild(iconCard);
        });
    }

    // Copy content to clipboard
    async function copyToClipboard(content, card, type) {
        try {
            await navigator.clipboard.writeText(content);
            const indicator = card.querySelector('.copy-indicator');
            indicator.textContent = `${type} Copied!`;
            card.classList.add('copied');
            setTimeout(() => {
                card.classList.remove('copied');
                indicator.textContent = 'Copied!';
            }, 2000);
        } catch (err) {
            console.error('Failed to copy: ', err);
            // Fallback for older browsers
            const textArea = document.createElement('textarea');
            textArea.value = content;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            const indicator = card.querySelector('.copy-indicator');
            indicator.textContent = `${type} Copied!`;
            card.classList.add('copied');
            setTimeout(() => {
                card.classList.remove('copied');
                indicator.textContent = 'Copied!';
            }, 2000);
        }
    }

    // Filter icons
    function filterIcons() {
        const searchTerm = searchInput.value.toLowerCase();

        filteredIcons = allIcons.filter(icon => {
            // Search in name, displayName, and category
            const matchesSearch =
                icon.name.toLowerCase().includes(searchTerm) ||
                (icon.displayName && icon.displayName.toLowerCase().includes(searchTerm)) ||
                icon.category.toLowerCase().includes(searchTerm);

            const matchesCategory = currentCategory === 'all' || icon.category === currentCategory;

            return matchesSearch && matchesCategory;
        });

        renderIcons();
    }

    // Refresh icons data
    function refreshIconsData() {
        const refreshText = refreshBtn.querySelector('.refresh-text');
        refreshBtn.classList.add('loading');
        refreshText.textContent = 'Refreshing...';

        // Simulate refresh by reloading the page (in real scenario, you'd fetch new data)
        setTimeout(() => {
            window.location.reload();
        }, 1000);
    }

    // Setup event listeners
    function setupEventListeners() {
        // Search functionality
        searchInput.addEventListener('input', filterIcons);

        // Theme toggle
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark');
            const isDark = document.body.classList.contains('dark');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            updateThemeIcon();
        });

        // Refresh button
        refreshBtn.addEventListener('click', refreshIconsData);

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.key === '/' && !e.target.matches('input')) {
                e.preventDefault();
                searchInput.focus();
            }

            if (e.key === 'Escape') {
                searchInput.blur();
                searchInput.value = '';
                filterIcons();
            }

            if (e.ctrlKey && e.key === 'r') {
                e.preventDefault();
                refreshIconsData();
            }
        });
    }

    // Initialize when DOM is loaded and icons data is available
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
    } else {
        init();
    }

    // Handle cases where the script tag loads after DOM
    window.addEventListener('load', () => {
        if (allIcons.length === 0) {
            init();
        }
    });
</script>
</body>
</html>